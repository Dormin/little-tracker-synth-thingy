<!DOCTYPE html>
<html>
	<head>
		<title>Test</title>
	</head>
	<body style="padding:16px;background-color:#2d2e39">
		<canvas id="view" width="192" height="144" style="width:576px;height:432px;display:block;margin:auto;image-rendering:pixelated;box-shadow: 0px 0px 32px 0px rgba(0,0,0,0.5)"></canvas>
		<script src="js/app.js"></script>
		<script src="js/audio.js"></script>
		<script src="js/buffer.js"></script>
		<script src="js/canvas.js"></script>
		<script src="js/constants.js"></script>
		<script src="js/input.js"></script>
		<script src="js/instrument-editor.js"></script>
		<script src="js/pattern-editor.js"></script>
		<script src="js/resources.js"></script>
		<script src="js/sequence-editor.js"></script>
		<script src="js/song.js"></script>
		<script src="js/song-player.js"></script>
		<script src="js/synth.js"></script>
		<script src="js/synth-amp.js"></script>
		<script src="js/synth-delay.js"></script>
		<script src="js/synth-eg.js"></script>
		<script src="js/synth-vcf.js"></script>
		<script src="js/synth-vco.js"></script>
		<script src="js/ui.js"></script>
		<script>

			InitAudio()
			InitCanvas("view")
			InitInput()
			InitApp()

			SetSynthInstrument(0, 0)
			Song.Instruments[0].Name = "KICK"
			Song.Instruments[0].Volume = 100
			Song.Instruments[0].Pan = 0
			Song.Instruments[0].EgDecay = 5
			Song.Instruments[0].VcoPortamento = 0
			Song.Instruments[0].Vco2Detune = 0
			Song.Instruments[0].VcoEgInt = 50
			Song.Instruments[0].VcfCutoff = 1
			Song.Instruments[0].VcfResonance = 80
			Song.Instruments[0].VcfEgInt = 20
			Song.Instruments[0].DelayInt = 0

			SetSynthInstrument(1, 1)
			Song.Instruments[1].Name = "BASS"
			Song.Instruments[1].Volume = 100
			Song.Instruments[1].Pan = 0
			Song.Instruments[1].EgDecay = 10
			Song.Instruments[1].VcoPortamento = 15
			Song.Instruments[1].Vco2Detune = 0
			Song.Instruments[1].VcoEgInt = 0
			Song.Instruments[1].VcfCutoff = 5
			Song.Instruments[1].VcfResonance = 50
			Song.Instruments[1].VcfEgInt = 20
			Song.Instruments[1].DelayInt = 0

			SetSynthInstrument(2, 2)
			Song.Instruments[2].Name = "5TH"
			Song.Instruments[2].Volume = 100
			Song.Instruments[2].Pan = 0
			Song.Instruments[2].EgDecay = 5
			Song.Instruments[2].VcoPortamento = 0
			Song.Instruments[2].Vco2Detune = 70
			Song.Instruments[2].VcoEgInt = 0
			Song.Instruments[2].VcfCutoff = 15
			Song.Instruments[2].VcfResonance = 50
			Song.Instruments[2].VcfEgInt = 50
			Song.Instruments[2].DelayInt = 50

			SetSynthInstrument(3, 3)
			Song.Instruments[3].Name = "LEAD"
			Song.Instruments[3].Volume = 50
			Song.Instruments[3].Pan = 0
			Song.Instruments[3].EgDecay = 10
			Song.Instruments[3].VcoPortamento = 10
			Song.Instruments[3].Vco2Detune = 1
			Song.Instruments[3].VcoEgInt = 0
			Song.Instruments[3].VcfCutoff = 100
			Song.Instruments[3].VcfResonance = 0
			Song.Instruments[3].VcfEgInt = 0
			Song.Instruments[3].DelayInt = 50

			WaitForResources(OnResourcesLoaded)

			function OnResourcesLoaded() {
				StartAudio(ProcessApp)
				StartDrawing(DrawApp)
				StartInput(HandleAppInput)
			}

		</script>
	</body>
</html>